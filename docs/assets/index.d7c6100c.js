const f=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}};f();function m(){return document.getElementById("input-query").value}function p(e){document.querySelector("#error-message").innerHTML=e}function h(){document.querySelector("#error-message").innerHTML=""}function a(){document.querySelector("#button-random-fact svg").classList.toggle("animate-spin")}function i(){const e=document.querySelector("#button-fetch-query .icon");e==null||e.classList.toggle("hidden"),e==null||e.classList.toggle("flex"),document.querySelector("#button-fetch-query .text").classList.toggle("hidden")}function g(){document.querySelector("#list-results").innerHTML=""}function y(e){document.querySelector("#span-count-result").innerHTML=`${e} results found`}function S(){document.querySelector("#span-count-result").innerHTML=""}function v(e){const t=document.querySelector("#input-query");return e.replace(new RegExp(t.value,"i"),'<span class="highlighted">$&</span>')}function w(){document.querySelector("#section-random-fact").classList.add("hidden")}function E(){document.querySelector("#section-random-fact").classList.add("opacity-0")}function A(e){return`<span class="error">${e}</span>`}function u(e){const t=e.violations;let r="";for(const[,s]of Object.entries(t))r+=A(s);p(r)}async function L(e){const t=await fetch(`https://api.chucknorris.io/jokes/search?query=${e}`);if(!t.ok){const s=`An error has occurred: ${t.status}`;console.log(s)}const r=await t.json();if(r.error)throw u(r),new Error(r);return r}async function q(){const e=await fetch("https://api.chucknorris.io/jokes/random");if(!e.ok){const r=`An error has occurred: ${e.status}`;throw new Error(r)}const t=await e.json();if(t.error)throw u(t),new Error(t);return t}function F(e){return e.join(", ")||"none"}function l(e){return`
    <div class="flex flex-col w-full py-6 items-center justify-center fact-container">
      <p class="text-slate-600 dark:text-slate-300 font-bad-script text-2xl text-center paragraph-fact-content">\u275D ${v(e.value)} \u275E</p>

      <p class="flex mt-3">
        <span class="flex items-center mr-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
          </svg>
          <a href="${e.url}" class="font-bold hover:text-orange-300 transition-all link-to-fact">API Website</a>
        </span>
        <span class="flex items-center ">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-2 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
          </svg>
          <span class="span-category-list">${F(e.categories)}</span>
        </span>
      </p>
    </div>
  `}function k(e){document.querySelector("#list-results").innerHTML+=l(e)}function x(e){e.map(t=>k(t))}function M(){i(),g(),h(),S()}function R(e){document.querySelector("#div-random-fact").innerHTML=l(e)}function T(e){e>0&&(E(),setTimeout(()=>{w()},500))}document.querySelector("#button-random-fact").addEventListener("click",d);document.querySelector("#form-fetch-query").addEventListener("submit",N);async function N(e){e.preventDefault();try{M();const t=await L(m());y(t.total),x(t.result),T(t.total)}catch{}i()}async function d(){a();try{const e=await q();R(e)}catch{}a()}d();
